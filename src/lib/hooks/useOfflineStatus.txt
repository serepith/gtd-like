// import { useState, useEffect } from 'react';
// import { getMutationQueue } from '../data-yjs/indexedDB';

// export function useOfflineStatus() {
//   const [isOnline, setIsOnline] = useState(
//     typeof navigator !== 'undefined' ? navigator.onLine : true
//   );
//   const [pendingMutations, setPendingMutations] = useState(0);
  
//   useEffect(() => {
//     // Update online status
//     const handleOnline = () => setIsOnline(true);
//     const handleOffline = () => setIsOnline(false);
    
//     window.addEventListener('online', handleOnline);
//     window.addEventListener('offline', handleOffline);
    
//     return () => {
//       window.removeEventListener('online', handleOnline);
//       window.removeEventListener('offline', handleOffline);
//     };
//   }, []);
  
//   useEffect(() => {
//     // Check pending mutations
//     const checkQueue = async () => {
//       const queue = await getMutationQueue();
//       setPendingMutations(queue.length);
//     };
    
//     checkQueue();
    
//     // Poll for changes
//     const interval = setInterval(checkQueue, 5000);
//     return () => clearInterval(interval);
//   }, []);
  
//   return {
//     isOnline,
//     pendingMutations,
//     isSyncing: isOnline && pendingMutations > 0,
//   };
// }